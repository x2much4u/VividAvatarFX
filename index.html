<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VividAvatarFX ドキュメント</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            display: flex;
            max-height: calc(100vh - 20px);
        }
        .sidebar {
            width: 280px;
            background: #f8f9fa;
            padding: 20px;
            overflow-y: auto;
            border-right: 2px solid #e9ecef;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }
        .sidebar h2 {
            color: #667eea;
            font-size: 1.2em;
            margin-bottom: 15px;
            border: none;
            padding: 0;
        }
        .sidebar-nav {
            list-style: none;
            margin: 0;
        }
        .sidebar-nav li {
            margin: 0;
        }
        .sidebar-nav a {
            display: block;
            padding: 8px 12px;
            color: #495057;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s;
            font-size: 0.9em;
        }
        .sidebar-nav a:hover {
            background: #e9ecef;
            color: #667eea;
        }
        .sidebar-nav a.active {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        .sidebar-subnav {
            list-style: none;
            margin: 5px 0 10px 0;
            padding-left: 15px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .sidebar-subnav.active {
            max-height: 800px;
        }
        .sidebar-subnav a {
            padding: 6px 12px;
            font-size: 0.85em;
            color: #764ba2;
        }
        .sidebar-subnav a:hover {
            background: #f0e7f5;
            color: #764ba2;
        }
        .sidebar-subnav a.active {
            background: #e9d5f5;
            color: #764ba2;
            font-weight: bold;
            border-left: 3px solid #764ba2;
            padding-left: 9px;
        }
        .hamburger {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        .hamburger span {
            display: block;
            width: 25px;
            height: 3px;
            background: white;
            margin: 5px 0;
            transition: 0.3s;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        .overlay.active {
            display: block;
        }
        .main-content {
            flex: 1;
            overflow-y: auto;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }
        header h1 {
            font-size: 2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            word-break: break-word;
        }
        header p {
            font-size: 1em;
            opacity: 0.9;
        }
        .lang-switcher {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }
        .lang-switcher-buttons {
            display: inline-flex;
            gap: 10px;
        }
        .lang-btn {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            padding: 10px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }
        .lang-btn:hover {
            background: #f0f0ff;
        }
        .lang-btn.active {
            background: #667eea;
            color: white;
        }
        [lang="en"] .ja-only,
        [lang="ja"] .en-only {
            display: none;
        }
        .content {
            padding: 20px;
        }
        h2 {
            color: #667eea;
            margin: 30px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            font-size: 1.5em;
        }
        h3 {
            color: #764ba2;
            margin: 25px 0 10px 0;
            font-size: 1.2em;
        }
        h4 {
            color: #667eea;
            margin: 15px 0 10px 0;
            font-size: 1.1em;
        }
        .step {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .step-number {
            display: inline-block;
            background: #667eea;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            font-weight: bold;
            margin-right: 8px;
            font-size: 0.9em;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
            word-break: break-all;
            font-size: 0.9em;
        }
        ul, ol {
            margin: 15px 0 15px 20px;
        }
        li {
            margin: 8px 0;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .feature-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .feature-card h4 {
            margin-top: 0;
            margin-bottom: 8px;
            font-size: 1em;
            color: #495057;
        }
        .feature-card p {
            font-size: 0.85em;
            color: #6c757d;
            margin: 0;
        }
        footer {
            background: #2d2d2d;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            font-size: 0.9em;
        }
        footer a {
            color: #667eea;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        table th {
            background: #f8f9fa;
            color: #495057;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #dee2e6;
        }
        table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
        }
        table tr:hover {
            background: #f5f5f5;
        }
        @media (max-width: 900px) {
            .hamburger {
                display: block;
            }
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                transform: translateX(-100%);
                z-index: 1000;
                box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            }
            .sidebar.active {
                transform: translateX(0);
            }
            .container {
                flex-direction: column;
            }
            .main-content {
                height: auto;
                width: 100%;
            }
            header h1 {
                font-size: 1.5em;
            }
            h2 {
                font-size: 1.3em;
            }
            h3 {
                font-size: 1.1em;
            }
            .content {
                padding: 15px;
                padding-top: 60px;
            }
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <button class="hamburger" aria-label="メニューを開く">
        <span></span>
        <span></span>
        <span></span>
    </button>
    <div class="overlay"></div>
    <div class="container">
        <aside class="sidebar">
            <h2 class="ja-only">目次</h2>
            <h2 class="en-only">Contents</h2>
            <ul class="sidebar-nav">
                <li>
                    <a href="#quickstart">
                        <span class="ja-only">クイックスタート</span>
                        <span class="en-only">Quick Start</span>
                    </a>
                    <ul class="sidebar-subnav">
                        <li><a href="#quickstart-install">
                            <span class="ja-only">インストール</span>
                            <span class="en-only">Installation</span>
                        </a></li>
                        <li><a href="#quickstart-setup">
                            <span class="ja-only">初期セットアップ</span>
                            <span class="en-only">Initial Setup</span>
                        </a></li>
                    </ul>
                </li>
                <li>
                    <a href="#overview">
                        <span class="ja-only">概要</span>
                        <span class="en-only">Overview</span>
                    </a>
                    <ul class="sidebar-subnav">
                        <li><a href="#overview-features">
                            <span class="ja-only">主要機能</span>
                            <span class="en-only">Main Features</span>
                        </a></li>
                        <li><a href="#overview-requirements">
                            <span class="ja-only">動作環境</span>
                            <span class="en-only">Requirements</span>
                        </a></li>
                    </ul>
                </li>
                <li>
                    <a href="#effects">
                        <span class="ja-only">エフェクト詳細</span>
                        <span class="en-only">Effect Details</span>
                    </a>
                    <ul class="sidebar-subnav">
                        <li><a href="#effects-color">
                            <span class="ja-only">カラー設定</span>
                            <span class="en-only">Color Settings</span>
                        </a></li>
                        <li><a href="#effects">
                            <span class="ja-only">エフェクト</span>
                            <span class="en-only">Effects</span>
                        </a></li>
                        <li><a href="#effects-lens">
                            <span class="ja-only">レンズエフェクト</span>
                            <span class="en-only">Lens Effects</span>
                        </a></li>
                    </ul>
                </li>
                <li>
                    <a href="#preset">
                        <span class="ja-only">プリセット機能</span>
                        <span class="en-only">Preset System</span>
                    </a>
                    <ul class="sidebar-subnav">
                        <li><a href="#preset-create">
                            <span class="ja-only">プリセット作成</span>
                            <span class="en-only">Create Preset</span>
                        </a></li>
                        <li><a href="#preset-apply">
                            <span class="ja-only">プリセット適用</span>
                            <span class="en-only">Apply Preset</span>
                        </a></li>
                        <li><a href="#preset-share">
                            <span class="ja-only">プリセット共有</span>
                            <span class="en-only">Share Preset</span>
                        </a></li>
                    </ul>
                </li>
                <li>
                    <a href="#eyecontrol">
                        <span class="ja-only">視線制御</span>
                        <span class="en-only">Eye Control</span>
                    </a>
                    <ul class="sidebar-subnav">
                        <li><a href="#eyecontrol-setup">
                            <span class="ja-only">セットアップ</span>
                            <span class="en-only">Setup</span>
                        </a></li>
                        <li><a href="#eyecontrol-manual">
                            <span class="ja-only">手動設定</span>
                            <span class="en-only">Manual Setup</span>
                        </a></li>
                    </ul>
                </li>
                <li>
                    <a href="#light">
                        <span class="ja-only">ライト機能</span>
                        <span class="en-only">Light System</span>
                    </a>
                    <ul class="sidebar-subnav">
                        <li><a href="#light-types">
                            <span class="ja-only">ライトの種類</span>
                            <span class="en-only">Light Types</span>
                        </a></li>
                        <li><a href="#light-usage">
                            <span class="ja-only">使い方</span>
                            <span class="en-only">Usage</span>
                        </a></li>
                    </ul>
                </li>
                <li>
                    <a href="#technical">
                        <span class="ja-only">技術仕様</span>
                        <span class="en-only">Technical Specifications</span>
                    </a>
                </li>
                <li>
                    <a href="#troubleshooting">
                        <span class="ja-only">トラブルシューティング</span>
                        <span class="en-only">Troubleshooting</span>
                    </a>
                </li>
                <li>
                    <a href="#faq">
                        <span class="ja-only">よくある質問</span>
                        <span class="en-only">FAQ</span>
                    </a>
                </li>
                <li>
                    <a href="#license">
                        <span class="ja-only">ライセンス</span>
                        <span class="en-only">License</span>
                    </a>
                </li>
                <li>
                    <a href="#changelog">
                        <span class="ja-only">更新履歴</span>
                        <span class="en-only">Changelog</span>
                    </a>
                </li>
            </ul>
        </aside>
        
        <div class="main-content">
            <header>
                <h1>VividAvatarFX</h1>
                <p>Version 1.0.2</p>
                <p class="ja-only" style="font-size: 0.9em; margin-top: 5px;">VRChat想定アバターギミック #VAFX</p>
                <p class="en-only" style="font-size: 0.9em; margin-top: 5px;">VRChat Avatar Gimmick #VAFX</p>
            </header>

            <div class="lang-switcher">
                <div class="lang-switcher-buttons">
                    <button class="lang-btn active" data-lang="ja">日本語</button>
                    <button class="lang-btn" data-lang="en">English</button>
                </div>
            </div>

            <div class="content">
                <h2 id="quickstart">
                    <span class="ja-only">クイックスタート</span>
                    <span class="en-only">Quick Start</span>
                </h2>

                <h3 id="quickstart-install">
                    <span class="ja-only">インストール</span>
                    <span class="en-only">Installation</span>
                </h3>
                
                <div class="step">
                    <span class="step-number">1</span>
                    <strong class="ja-only">Prefabの配置</strong>
                    <strong class="en-only">Place Prefab</strong>
                    <p class="ja-only">言語に応じたPrefabをアバターのルート直下に配置：</p>
                    <p class="en-only">Place the appropriate language prefab directly under your avatar root:</p>
                    <ul>
                        <li class="ja-only">日本語版： <code>Assets/x2much4u/VividAvatarFX/Prefab/VividAvatarFX_JP.prefab</code></li>
                        <li class="ja-only">英語版： <code>Assets/x2much4u/VividAvatarFX/Prefab/VividAvatarFX_EN.prefab</code></li>
                        <li class="en-only">Japanese: <code>Assets/x2much4u/VividAvatarFX/Prefab/VividAvatarFX_JP.prefab</code></li>
                        <li class="en-only">English: <code>Assets/x2much4u/VividAvatarFX/Prefab/VividAvatarFX_EN.prefab</code></li>
                    </ul>
                </div>

                <div class="warning">
                    <strong class="ja-only">⚠️ 重要：</strong>
                    <strong class="en-only">⚠️ Important:</strong>
                    <span class="ja-only">Prefabは必ずアバターのルート直下に配置してください。他の場所に配置すると正常に動作しません。</span>
                    <span class="en-only">The Prefab must be placed directly under the avatar root. It will not work properly if placed elsewhere.</span>
                </div>

                <h3 id="quickstart-setup">
                    <span class="ja-only">初期セットアップ</span>
                    <span class="en-only">Initial Setup</span>
                </h3>

                <div class="step">
                    <span class="step-number">2</span>
                    <strong class="ja-only">Setup Toolを開く</strong>
                    <strong class="en-only">Open Setup Tool</strong>
                    <p class="ja-only">以下のいずれかの方法で開きます：</p>
                    <p class="en-only">Open using one of the following methods:</p>
                    <ul>
                        <li class="ja-only">マテリアルInspectorの「セットアップ & ベイク」ボタン</li>
                        <li class="ja-only">メニューバー： <code>Tools → x2much4u → VividAvatarFX → VAFX Setup Tool</code></li>
                        <li class="en-only">Material Inspector: "Setup & Bake" button</li>
                        <li class="en-only">Menu bar: <code>Tools → x2much4u → VividAvatarFX → VAFX Setup Tool</code></li>
                    </ul>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <strong class="ja-only">アバターを設定</strong>
                    <strong class="en-only">Set Avatar</strong>
                    <p class="ja-only">Setup Toolの「ターゲットアバター」欄にアバターをドラッグ&ドロップ</p>
                    <p class="en-only">Drag and drop your avatar into the "Target Avatar" field in Setup Tool</p>
                </div>

                <div class="step">
                    <span class="step-number">4</span>
                    <strong class="ja-only">視線制御の設定（オプション）</strong>
                    <strong class="en-only">Eye Control Setup (Optional)</strong>
                    <ul>
                        <li class="ja-only">目のボーンは自動検出されます</li>
                        <li class="ja-only">「ベイク時に視線制御も設定する」にチェックを入れると視線制御も同時セットアップ</li>
                        <li class="ja-only">他の視線制御ギミックを使用している場合はチェックを外してください</li>
                        <li class="en-only">Eye bones are automatically detected</li>
                        <li class="en-only">Check "Setup Eye Control on Bake" to set up eye control simultaneously</li>
                        <li class="en-only">Uncheck if you're using another eye control system</li>
                    </ul>
                </div>

                <div class="step">
                    <span class="step-number">5</span>
                    <strong class="ja-only">ベイク実行</strong>
                    <strong class="en-only">Execute Bake</strong>
                    <p class="ja-only">「マテリアル値を焼き込み & アバターに統合」ボタンをクリック</p>
                    <p class="en-only">Click "Bake Material Values & Merge to Avatar" button</p>
                </div>

                <div class="success">
                    <strong class="ja-only">✅ セットアップ完了！</strong>
                    <strong class="en-only">✅ Setup Complete!</strong>
                    <p class="ja-only">これでVividAvatarFXの導入は完了です。アバターをアップロードして使用できます。</p>
                    <p class="en-only">VividAvatarFX setup is now complete. You can upload your avatar and use it.</p>
                </div>

                <div class="info">
                    <strong class="ja-only">💡 なぜベイクが必要なのか？</strong>
                    <strong class="en-only">💡 Why is Baking Necessary?</strong>
                    <p class="ja-only">VividAvatarFXは、現在のマテリアル値を直接ExpressionParametersに焼き込むことで動作します。これにより、VRC内でエフェクトをリアルタイムに調整できます。</p>
                    <p class="en-only">VividAvatarFX works by baking current material values directly into Expression Parameters. This allows you to adjust effects in real-time within VRChat.</p>
                    <p class="ja-only"><strong>マテリアルの値を変更したら、必ず再度ベイクを実行してください。</strong></p>
                    <p class="en-only"><strong>Always re-bake after changing material values.</strong></p>
                </div>

                <h2 id="overview">
                    <span class="ja-only">概要</span>
                    <span class="en-only">Overview</span>
                </h2>
                <p class="ja-only">VividAvatarFXは、VRChat想定のアバター用ポストプロセスエフェクトです。</p>
                <p class="en-only">VividAvatarFX is a post-process effect system designed for VRChat avatars.</p>
                <h3 id="overview-features">
                    <span class="ja-only">主要機能</span>
                    <span class="en-only">Main Features</span>
                </h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4 class="ja-only">カラーグレーディング</h4>
                        <h4 class="en-only">Color Grading</h4>
                        <p class="ja-only">明るさ、コントラスト、彩度、色相シフト、ガンマ調整</p>
                        <p class="en-only">Brightness, Contrast, Saturation, Hue Shift, Gamma</p>
                    </div>
                    <div class="feature-card">
                        <h4 class="ja-only">ブルームエフェクト</h4>
                        <h4 class="en-only">Bloom Effect</h4>
                        <p class="ja-only">強度、閾値、半径、滑らかさ、拡散、ぼやけ</p>
                        <p class="en-only">Intensity, Threshold, Radius, Softness, Diffusion, Blur</p>
                    </div>
                    <div class="feature-card">
                        <h4 class="ja-only">色収差</h4>
                        <h4 class="en-only">Chromatic Aberration</h4>
                        <p class="ja-only">8種類のプリセット</p>
                        <p class="en-only">8 Presets</p>
                    </div>
                    <div class="feature-card">
                        <h4 class="ja-only">レンズ歪み</h4>
                        <h4 class="en-only">Lens Distortion</h4>
                        <p class="ja-only">魚眼レンズ、バレル歪み（VR視点では非表示）</p>
                        <p class="en-only">Fisheye, Barrel Distortion (Hidden in VR view)</p>
                    </div>
                    <div class="feature-card">
                        <h4 class="ja-only">グリッチエフェクト</h4>
                        <h4 class="en-only">Glitch Effect</h4>
                        <p class="ja-only">横・縦ラインシフト、カラー分離、ブロックノイズ</p>
                        <p class="en-only">H/V Line Shift, Color Split, Block Noise</p>
                    </div>
                    <div class="feature-card">
                        <h4 class="ja-only">ビネット</h4>
                        <h4 class="en-only">Vignette</h4>
                        <p class="ja-only">強度、滑らかさ、透明度、色調整</p>
                        <p class="en-only">Intensity, Smoothness, Alpha, Color</p>
                    </div>
                    <div class="feature-card">
                        <h4 class="ja-only">補助機能</h4>
                        <h4 class="en-only">Additional Features</h4>
                        <p class="ja-only">視線制御<br>ライト（PointLight×3、SpotLight×4）</p>
                        <p class="en-only">Eye Control<br>Lights (PointLight×3, SpotLight×4)</p>
                    </div>
                </div>

                <h3 id="overview-requirements">
                    <span class="ja-only">制作・動作確認環境</span>
                    <span class="en-only">Development & Testing Environment</span>
                </h3>
                <table>
                    <tr>
                        <th style="width: 30%;" class="ja-only">項目</th>
                        <th style="width: 30%;" class="en-only">Item</th>
                        <th class="ja-only">要件</th>
                        <th class="en-only">Requirement</th>
                    </tr>
                    <tr>
                        <td>Unity</td>
                        <td class="ja-only">2022.3.22f1</td>
                        <td class="en-only">2022.3.22f1</td>
                    </tr>
                    <tr>
                        <td>VRChat SDK</td>
                        <td class="ja-only">3.7.2</td>
                        <td class="en-only">3.7.2</td>
                    </tr>
                    <tr>
                        <td>Modular Avatar</td>
                        <td class="ja-only">1.11.1</td>
                        <td class="en-only">1.11.1</td>
                    </tr>
                    <tr>
                        <td class="ja-only">プラットフォーム</td>
                        <td class="en-only">Platform</td>
                        <td class="ja-only">PC専用（Quest非対応）</td>
                        <td class="en-only">PC Only (Quest not supported)</td>
                    </tr>
                </table>

                <h2 id="effects">
                    <span class="ja-only">エフェクト詳細</span>
                    <span class="en-only">Effect Details</span>
                </h2>

                <h3 id="effects-color">
                    <span class="ja-only">カラー設定</span>
                    <span class="en-only">Color Settings</span>
                </h3>

                <h4 class="ja-only">カラーグレーディング</h4>
                <h4 class="en-only">Color Grading</h4>
                <ul>
                    <li class="ja-only"><strong>明るさ：</strong> 画面全体の明るさを調整</li>
                    <li class="ja-only"><strong>コントラスト：</strong> 明暗の差を調整</li>
                    <li class="ja-only"><strong>彩度：</strong> 色の鮮やかさを調整</li>
                    <li class="ja-only"><strong>色相シフト：</strong> 色相を回転</li>
                    <li class="ja-only"><strong>ガンマ：</strong> 中間調の明るさを調整</li>
                    <li class="ja-only"><strong>色反転：</strong> 色反転</li>
                    <li class="en-only"><strong>Brightness:</strong> Adjust overall screen brightness</li>
                    <li class="en-only"><strong>Contrast:</strong> Adjust difference between light and dark</li>
                    <li class="en-only"><strong>Saturation:</strong> Adjust color vividness</li>
                    <li class="en-only"><strong>Hue Shift:</strong> Rotate hue</li>
                    <li class="en-only"><strong>Gamma:</strong> Adjust mid-tone brightness</li>
                    <li class="en-only"><strong>Color Invert:</strong> Color Invert</li>
                </ul>

                <h4 class="ja-only">トーンカーブ</h4>
                <h4 class="en-only">Tone Curve</h4>
                <p class="ja-only">RGB各チャンネルのトーンカーブを個別に調整。スケールとパワーを組み合わせて色調整が可能です。</p>
                <p class="en-only">Adjust tone curves for each RGB channel individually. Combine scale and power for precise color adjustments.</p>

                <ul>
                    <li class="ja-only"><strong>赤チャンネル（R）：</strong></li>
                    <li class="en-only"><strong>Red Channel (R):</strong></li>
                    <ul style="margin-left: 40px;">
                        <li class="ja-only">スケール： 赤色の強度を調整</li>
                        <li class="ja-only">パワー： 赤色の階調カーブを調整</li>
                        <li class="en-only">Scale: Adjust red color intensity</li>
                        <li class="en-only">Power: Adjust red color tone curve</li>
                    </ul>
                    <li class="ja-only"><strong>緑チャンネル（G）：</strong></li>
                    <li class="en-only"><strong>Green Channel (G):</strong></li>
                    <ul style="margin-left: 40px;">
                        <li class="ja-only">スケール： 緑色の強度を調整</li>
                        <li class="ja-only">パワー： 緑色の階調カーブを調整</li>
                        <li class="en-only">Scale: Adjust green color intensity</li>
                        <li class="en-only">Power: Adjust green color tone curve</li>
                    </ul>
                    <li class="ja-only"><strong>青チャンネル（B）：</strong></li>
                    <li class="en-only"><strong>Blue Channel (B):</strong></li>
                    <ul style="margin-left: 40px;">
                        <li class="ja-only">スケール： 青色の強度を調整</li>
                        <li class="ja-only">パワー： 青色の階調カーブを調整</li>
                        <li class="en-only">Scale: Adjust blue color intensity</li>
                        <li class="en-only">Power: Adjust blue color tone curve</li>
                    </ul>
                </ul>

                <h4>Lift / Gamma / Gain</h4>
                <ul>
                    <li class="ja-only"><strong>Lift：</strong> 暗部の色調を調整</li>
                    <li class="ja-only"><strong>Gamma：</strong> 中間調の色調を調整</li>
                    <li class="ja-only"><strong>Gain：</strong> 明部の色調を調整</li>
                    <li class="en-only"><strong>Lift:</strong> Adjust dark areas color tone</li>
                    <li class="en-only"><strong>Gamma:</strong> Adjust mid-tone color tone</li>
                    <li class="en-only"><strong>Gain:</strong> Adjust bright areas color tone</li>
                </ul>
                <p class="ja-only">各項目でHSV（色相・彩度・明度）を個別に設定できます。</p>
                <p class="en-only">You can set HSV (Hue, Saturation, Value) individually for each.</p>

                <h3 id="effects">
                    <span class="ja-only">エフェクト</span>
                    <span class="en-only">Effects</span>
                </h3>

                <h4 class="ja-only">ブルーム</h4>
                <h4 class="en-only">Bloom</h4>
                <ul>
                    <li class="ja-only"><strong>強度：</strong> ブルーム効果の強さ</li>
                    <li class="ja-only"><strong>閾値：</strong> どの明るさから光らせるか</li>
                    <li class="ja-only"><strong>半径：</strong> ブルームの広がり</li>
                    <li class="ja-only"><strong>滑らかさ：</strong> 境界の滑らかさ</li>
                    <li class="ja-only"><strong>拡散：</strong> 光の拡散具合</li>
                    <li class="ja-only"><strong>ぼやけ：</strong> ブルームのぼかし度合い</li>
                    <li class="en-only"><strong>Intensity:</strong> Bloom effect strength</li>
                    <li class="en-only"><strong>Threshold:</strong> Brightness level to start blooming</li>
                    <li class="en-only"><strong>Radius:</strong> Bloom spread</li>
                    <li class="en-only"><strong>Softness:</strong> Border softness</li>
                    <li class="en-only"><strong>Diffusion:</strong> Light diffusion amount</li>
                    <li class="en-only"><strong>Blur:</strong> Bloom blur amount</li>
                </ul>

                <h4 class="ja-only">ビネット</h4>
                <h4 class="en-only">Vignette</h4>
                <ul>
                    <li class="ja-only"><strong>強度：</strong> ビネット効果の強さ</li>
                    <li class="ja-only"><strong>滑らかさ：</strong> 境界のぼかし具合</li>
                    <li class="ja-only"><strong>透明度：</strong> エフェクトの不透明度</li>
                    <li class="ja-only"><strong>色（HSV）：</strong> ビネットの色を調整</li>
                    <li class="en-only"><strong>Intensity:</strong> Vignette effect strength</li>
                    <li class="en-only"><strong>Smoothness:</strong> Border blur amount</li>
                    <li class="en-only"><strong>Alpha:</strong> Effect opacity</li>
                    <li class="en-only"><strong>Color (HSV):</strong> Adjust vignette color</li>
                </ul>

                <h4 class="ja-only">その他のエフェクト</h4>
                <h4 class="en-only">Other Effects</h4>
                <ul>
                    <li class="ja-only"><strong>シネマティックライン：</strong> 画面の上下左右に黒帯</li>
                    <li class="ja-only"><strong>ネオンエッジ：</strong> 輪郭を光らせる</li>
                    <li class="ja-only"><strong>ノイズ/グレイン：</strong> フィルムグレイン効果</li>
                    <li class="ja-only"><strong>ポスタライズ：</strong> 色数を減らしてアニメ風に</li>
                    <li class="ja-only"><strong>ディザリング：</strong> ディザパターン追加</li>
                    <li class="ja-only"><strong>モザイク：</strong> ブロック状のモザイク</li>
                    <li class="en-only"><strong>Cinematic Lines:</strong> Black bars on screen edges</li>
                    <li class="en-only"><strong>Neon Edge:</strong> Glowing outlines</li>
                    <li class="en-only"><strong>Noise/Grain:</strong> Film grain effect</li>
                    <li class="en-only"><strong>Posterize:</strong> Reduce colors for anime style</li>
                    <li class="en-only"><strong>Dithering:</strong> Add dither pattern</li>
                    <li class="en-only"><strong>Mosaic:</strong> Block-style mosaic</li>
                </ul>

                <h3 id="effects-lens">
                    <span class="ja-only">レンズエフェクト</span>
                    <span class="en-only">Lens Effects</span>
                </h3>

                <h4 class="ja-only">色収差</h4>
                <h4 class="en-only">Chromatic Aberration</h4>
                <ul>
                    <li class="ja-only"><strong>強度：</strong> 色ズレの量</li>
                    <li class="ja-only"><strong>色変更：</strong> プリセット切り替え（8パターン）</li>
                    <li class="en-only"><strong>Intensity:</strong> Color shift amount</li>
                    <li class="en-only"><strong>Color Change:</strong> Switch preset (8 patterns)</li>
                </ul>

                <h4 class="ja-only">レンズ歪み</h4>
                <h4 class="en-only">Lens Distortion</h4>
                <ul>
                    <li class="ja-only"><strong>強度：</strong> 歪みの強さ</li>
                    <li class="ja-only"><strong>スケール：</strong> 歪みの範囲</li>
                    <li class="ja-only"><strong>歪み形状：</strong> 歪みの特性</li>
                    <li class="ja-only"><strong>バレル係数：</strong> 画像を外側に引き伸ばす度合い</li>
                    <li class="ja-only"><strong>横引き延ばし/潰す：</strong> 水平方向の変形</li>
                    <li class="ja-only"><strong>縦引き延ばし/潰す：</strong> 垂直方向の変形</li>
                    <li class="en-only"><strong>Intensity:</strong> Distortion strength</li>
                    <li class="en-only"><strong>Scale:</strong> Distortion range</li>
                    <li class="en-only"><strong>Distortion Shape:</strong> Distortion characteristics</li>
                    <li class="en-only"><strong>Barrel Coefficient:</strong> Degree of stretching the image outward</li>
                    <li class="en-only"><strong>Horizontal Stretch/Squash:</strong> Horizontal deformation</li>
                    <li class="en-only"><strong>Vertical Stretch/Squash:</strong> Vertical deformation</li>
                </ul>

                <h4 class="ja-only">グリッチエフェクト</h4>
                <h4 class="en-only">Glitch Effect</h4>
                <ul>
                    <li class="ja-only"><strong>横ラインシフト：</strong> 走査線の横ズレ（強度・頻度・ブレンド）</li>
                    <li class="ja-only"><strong>縦ラインシフト：</strong> 走査線の縦ズレ（強度・頻度・ブレンド）</li>
                    <li class="ja-only"><strong>カラー分離：</strong> RGBチャンネルのズレ（強度・ブレンド）</li>
                    <li class="ja-only"><strong>ブロックノイズ：</strong> ブロック状のノイズ（サイズ・頻度・強度・ブレンド）</li>
                    <li class="en-only"><strong>Horizontal Line Shift:</strong> Horizontal scanline displacement (Intensity, Frequency, Blend)</li>
                    <li class="en-only"><strong>Vertical Line Shift:</strong> Vertical scanline displacement (Intensity, Frequency, Blend)</li>
                    <li class="en-only"><strong>Color Split:</strong> RGB channel displacement (Intensity, Blend)</li>
                    <li class="en-only"><strong>Block Noise:</strong> Block-style noise (Size, Frequency, Intensity, Blend)</li>
                </ul>

                <h2 id="preset">
                    <span class="ja-only">プリセット機能</span>
                    <span class="en-only">Preset System</span>
                </h2>
                <p class="ja-only">現在のマテリアル設定を最大22個のプリセットとして保存・管理できます。</p>
                <p class="en-only">Save and manage current material settings as up to 22 presets.</p>

                <h3 id="preset-create">
                    <span class="ja-only">プリセットの作成</span>
                    <span class="en-only">Create Preset</span>
                </h3>

                <div class="step">
                    <span class="step-number">1</span>
                    <strong class="ja-only">Preset Makerを開く</strong>
                    <strong class="en-only">Open Preset Maker</strong>
                    <p class="ja-only">以下のいずれかの方法で開きます：</p>
                    <p class="en-only">Open using one of the following methods:</p>
                    <ul>
                        <li class="ja-only">マテリアルInspectorの「プリセット登録」ボタン</li>
                        <li class="ja-only">メニューバー： <code>Tools → x2much4u → VividAvatarFX → VAFX Preset Maker</code></li>
                        <li class="en-only">Material Inspector: "Register Preset" button</li>
                        <li class="en-only">Menu bar: <code>Tools → x2much4u → VividAvatarFX → VAFX Preset Maker</code></li>
                    </ul>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <strong class="ja-only">設定を調整</strong>
                    <strong class="en-only">Adjust Settings</strong>
                    <ul>
                        <li class="ja-only"><strong>保存スロット：</strong> Preset01〜Preset22から選択</li>
                        <li class="ja-only"><strong>メニュー表示名：</strong> VRChat内で表示される名前を入力</li>
                        <li class="ja-only"><strong>有効化設定：</strong> 表示を個別設定</li>
                        <li class="en-only"><strong>Save Slot:</strong> Choose from Preset01-Preset22</li>
                        <li class="en-only"><strong>Menu Display Name:</strong> Enter name shown in VRChat</li>
                        <li class="en-only"><strong>Enable Settings:</strong> Configure display for each platform</li>
                    </ul>
                    <ul style="margin-left: 40px;">
                        <li>Enable VR <span class="ja-only">：VR視点で表示</span><span class="en-only">: Show in VR view</span></li>
                        <li>Enable Desktop <span class="ja-only">：デスクトップ視点で表示</span><span class="en-only">: Show in desktop view</span></li>
                        <li>Enable SS <span class="ja-only">：カメラ（視界ジャック）で表示</span><span class="en-only">: Show in camera (view-jacking)</span></li>
                        <li>Enable Other <span class="ja-only">：その他（Unity編集画面など）</span><span class="en-only">: Other (Unity editor, etc.)</span></li>
                    </ul>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <strong class="ja-only">ベイク実行</strong>
                    <strong class="en-only">Execute Bake</strong>
                    <p class="ja-only">「プリセット [名前] を [スロット] にベイク」ボタンをクリック</p>
                    <p class="en-only">Click "Bake Preset [name] to [slot]" button</p>
                </div>

                <div class="info">
                    <strong class="ja-only">📁 プリセットの保存場所</strong>
                    <strong class="en-only">📁 Preset Save Location</strong>
                    <p class="ja-only">プリセットは<code>Assets/x2much4u/VividAvatarFX/Preset/</code>にJSON形式で保存されます。</p>
                    <p class="en-only">Presets are saved as JSON format in <code>Assets/x2much4u/VividAvatarFX/Preset/</code>.</p>
                    <p class="ja-only">ファイル名： <code>VAFX_[表示名].json</code></p>
                    <p class="en-only">Filename: <code>VAFX_[display_name].json</code></p>
                </div>

                <h3 id="preset-apply">
                    <span class="ja-only">プリセットの適用</span>
                    <span class="en-only">Apply Preset</span>
                </h3>
                <ol>
                    <li class="ja-only">マテリアルInspectorの「プリセット」ドロップダウンから選択</li>
                    <li class="ja-only">「適用」ボタンをクリック</li>
                    <li class="ja-only">マテリアルに設定が反映されます</li>
                    <li class="en-only">Select from "Preset" dropdown in Material Inspector</li>
                    <li class="en-only">Click "Apply" button</li>
                    <li class="en-only">Settings will be applied to material</li>
                </ol>

                <div class="warning">
                    <strong class="ja-only">⚠️ 重要：</strong>
                    <strong class="en-only">⚠️ Important:</strong>
                    <span class="ja-only">プリセットを適用しただけではVRChat内で反映されません。適用後、必ずSetup Toolで再度ベイクを実行してください。</span>
                    <span class="en-only">Simply applying a preset won't reflect in VRChat. Always re-bake with Setup Tool after applying.</span>
                </div>

                <h3 id="preset-share">
                    <span class="ja-only">プリセットの共有</span>
                    <span class="en-only">Share Preset</span>
                </h3>

                <h4 class="ja-only">エクスポート</h4>
                <h4 class="en-only">Export</h4>
                <p class="ja-only">マテリアルInspectorの「エクスポート」ボタンで、現在の設定をJSON形式で保存できます。他のユーザーに設定を共有する際に便利です。</p>
                <p class="en-only">Click "Export" button in Material Inspector to save current settings as JSON format. Useful for sharing settings with other users.</p>

                <h4 class="ja-only">インポート</h4>
                <h4 class="en-only">Import</h4>
                <p class="ja-only">「インポート」ボタンで外部のプリセットJSONファイルを読み込み、適用してPresetフォルダにコピーできます。</p>
                <p class="en-only">Click "Import" button to load external preset JSON files, apply them, and copy to Preset folder.</p>

                <div class="info">
                    <strong class="ja-only">プリセット登録 と エクスポート の違い</strong>
                    <strong class="en-only">Difference between Register Preset and Export</strong>
                    <ul>
                        <li class="ja-only"><strong>プリセット登録：</strong> AnimatorControllerに設定を書き込み、VRChatメニューから切り替え可能に</li>
                        <li class="ja-only"><strong>エクスポート：</strong> 設定をJSONファイルとして出力（共有用）</li>
                        <li class="en-only"><strong>Register Preset:</strong> Write settings to AnimatorController, switchable from VRChat menu</li>
                        <li class="en-only"><strong>Export:</strong> Output settings as JSON file (for sharing)</li>
                    </ul>
                </div>

                <h2 id="eyecontrol">
                    <span class="ja-only">視線制御</span>
                    <span class="en-only">Eye Control</span>
                </h2>
                <p class="ja-only">VividAvatarFXはVRC Aim Constraintを使用した視線制御を統合しています。</p>
                <p class="en-only">VividAvatarFX integrates an eye control using VRC Aim Constraint.</p>

                <h3 id="eyecontrol-setup">
                    <span class="ja-only">自動セットアップ</span>
                    <span class="en-only">Automatic Setup</span>
                </h3>
                <p class="ja-only">Setup Tool実行時、以下の順序で目のボーンを自動検出します：</p>
                <p class="en-only">When running Setup Tool, eye bones are automatically detected in the following order:</p>
                <ol>
                    <li class="ja-only">AnimatorのHumanoid設定からLeftEye/RightEyeを取得</li>
                    <li class="ja-only">見つからない場合、Headボーン以下から名前で検索</li>
                    <li class="en-only">Get LeftEye/RightEye from Animator's Humanoid settings</li>
                    <li class="en-only">If not found, search by name under Head bone</li>
                </ol>
                <ul style="margin-left: 40px;">
                    <li class="ja-only">左目： eye.l, eye_l, lefteye, left eye など</li>
                    <li class="ja-only">右目： eye.r, eye_r, righteye, right eye など</li>
                    <li class="en-only">Left eye: eye.l, eye_l, lefteye, left eye, etc.</li>
                    <li class="en-only">Right eye: eye.r, eye_r, righteye, right eye, etc.</li>
                </ul>

                <div class="info">
                    <strong class="ja-only">💡 バックアップ機能</strong>
                    <strong class="en-only">💡 Backup Feature</strong>
                    <p class="ja-only">既存のConstraintがある場合、自動的に「_Backup」という名前でバックアップを作成します。パラメーター削除時に自動復元されます。</p>
                    <p class="en-only">If existing Constraints are found, automatically creates backup named "_Backup". Automatically restored when parameters are removed.</p>
                </div>

                <h3 id="eyecontrol-manual">
                    <span class="ja-only">手動設定</span>
                    <span class="en-only">Manual Setup</span>
                </h3>
                <p class="ja-only">自動検出がうまくいかない場合：</p>
                <p class="en-only">If automatic detection doesn't work:</p>
                <ol>
                    <li class="ja-only">Setup Toolで左目ボーン/右目ボーンを手動選択</li>
                    <li class="ja-only">通常は<code>Armature/Hips/Spine/Chest/Neck/Head/</code>以下にあります</li>
                    <li class="ja-only">「ベイク時に視線制御も設定する」にチェックを入れてベイク実行</li>
                    <li class="en-only">Manually select left/right eye bones in Setup Tool</li>
                    <li class="en-only">Usually located under <code>Armature/Hips/Spine/Chest/Neck/Head/</code></li>
                    <li class="en-only">Check "Setup Eye Control on Bake" and execute bake</li>
                </ol>

                <div class="warning">
                    <strong class="ja-only">⚠️ 注意：</strong>
                    <strong class="en-only">⚠️ Note:</strong>
                    <span class="ja-only">他の視線制御ギミックを使用している場合、干渉を防ぐため「ベイク時に視線制御も設定する」のチェックを外してください。</span>
                    <span class="en-only">If using another eye control system, uncheck "Setup Eye Control on Bake" to prevent interference.</span>
                </div>

                <h4 class="ja-only">視線制御の切り替え</h4>
                <h4 class="en-only">Eye Control Toggle</h4>
                <p class="ja-only">視線制御のON/OFFを切り替えるアニメーションクリップが自動生成されます：</p>
                <p class="en-only">Animation clips for toggling eye control ON/OFF are automatically generated:</p>
                <ul>
                    <li><code>VAFX_Eye_ON.anim</code> <span class="ja-only">：視線制御を有効化</span><span class="en-only">: Enable eye control</span></li>
                    <li><code>VAFX_Eye_OFF.anim</code> <span class="ja-only">：視線制御を無効化</span><span class="en-only">: Disable eye control</span></li>
                    <li class="ja-only">保存先： <code>Assets/x2much4u/VividAvatarFX/Animation/Light/</code></li>
                    <li class="en-only">Save location: <code>Assets/x2much4u/VividAvatarFX/Animation/Light/</code></li>
                </ul>

                <h2 id="light">
                    <span class="ja-only">ライト機能</span>
                    <span class="en-only">Light System</span>
                </h2>
                <p class="ja-only">撮影用ライト。掴んで固定できるライトです。</p>
                <p class="en-only">Photography light system. Lights that can be grabbed and fixed in place.</p>

                <h3 id="light-types">
                    <span class="ja-only">ライトの種類</span>
                    <span class="en-only">Light Types</span>
                </h3>

                <h4>Point Light × 3</h4>
                <ul>
                    <li class="ja-only">全方向に光を放射</li>
                    <li class="ja-only">影は落ちません</li>
                    <li class="ja-only"><strong>Range調整：</strong> 光の届く範囲を調整可能</li>
                    <li class="en-only">Emits light in all directions</li>
                    <li class="en-only">No shadows cast</li>
                    <li class="en-only"><strong>Range adjustment:</strong> Adjustable light reach distance</li>
                </ul>

                <h4>Spot Light × 4</h4>
                <ul>
                    <li class="ja-only">指向性のある光</li>
                    <li class="ja-only"><strong>影が落ちます（Soft Shadow）</strong></li>
                    <li class="ja-only"><strong>Angle調整：</strong> 照射角度を調整可能</li>
                    <li class="en-only">Directional light</li>
                    <li class="en-only"><strong>Casts shadows (Soft Shadow)</strong></li>
                    <li class="en-only"><strong>Angle adjustment:</strong> Adjustable light angle</li>
                </ul>

                <div class="warning">
                    <strong class="ja-only">⚠️ VRChatの既知の不具合</strong>
                    <strong class="en-only">⚠️ Known VRChat Issue</strong>
                    <p class="ja-only">自分のアバターの影のみカメラに映りません。他のアバターやオブジェクトの影は正常に撮影できます。</p>
                    <p class="en-only">Your own avatar's shadow won't appear in camera. Other avatars' and objects' shadows will be captured normally.</p>
                    <p class="ja-only">詳細： <a href="https://feedback.vrchat.com/bug-reports/p/local-players-dont-cast-shadows-caused-by-lights-in-avatars-on-cameras-1" target="_blank" style="color: #667eea;">VRChat Canny</a></p>
                    <p class="en-only">Details: <a href="https://feedback.vrchat.com/bug-reports/p/local-players-dont-cast-shadows-caused-by-lights-in-avatars-on-cameras-1" target="_blank" style="color: #667eea;">VRChat Canny</a></p>
                </div>

                <h3 id="light-usage">
                    <span class="ja-only">使い方</span>
                    <span class="en-only">Usage</span>
                </h3>
                <ol>
                    <li class="ja-only">VRChatメニューから使用したいライトを選択</li>
                    <li class="ja-only">ライトを掴んで任意の位置に配置</li>
                    <li class="ja-only">固定ボタンでその場に固定</li>
                    <li class="ja-only">強度・色・Range/Angleを調整</li>
                    <li class="en-only">Select desired light from VRChat menu</li>
                    <li class="en-only">Grab and place light at desired position</li>
                    <li class="en-only">Fix in place with fix button</li>
                    <li class="en-only">Adjust intensity, color, Range/Angle</li>
                </ol>

                <h2 id="technical">
                    <span class="ja-only">技術仕様</span>
                    <span class="en-only">Technical Specifications</span>
                </h2>

                <h3 class="ja-only">Expression Parameters使用量</h3>
                <h3 class="en-only">Expression Parameters Usage</h3>
                <p><strong class="ja-only">0ビット</strong><strong class="en-only">Effectively 0 bits</strong></p>
                <p class="ja-only">すべてのパラメーターは<code>Synced: false</code>に設定されているため、Expression Parametersの容量を消費しません。<br>そのため、容量を気にすることなく使用できます。</p>
                <p class="en-only">All parameters are set to <code>Synced: false</code>, so they don't consume Expression Parameters capacity. Can be used without conflicting with other gimmicks.</p>

                <h3 class="ja-only">シェーダー仕様</h3>
                <h3 class="en-only">Shader Specifications</h3>
                <ul>
                    <li><strong class="ja-only">シェーダー名：</strong><strong class="en-only">Shader name:</strong> <code>x2much4u/VividAvatarFX</code></li>
                    <li><strong class="ja-only">レンダーキュー：</strong><strong class="en-only">Render queue:</strong> 4100 <span class="ja-only">（デフォルト、変更可能）</span><span class="en-only">(Default, changeable)</span></li>
                </ul>

                <h2 id="troubleshooting">
                    <span class="ja-only">トラブルシューティング</span>
                    <span class="en-only">Troubleshooting</span>
                </h2>

                <h3 class="ja-only">エフェクトが表示されない</h3>
                <h3 class="en-only">Effects Not Showing</h3>
                <div class="info">
                    <strong class="ja-only">チェックリスト：</strong>
                    <strong class="en-only">Checklist:</strong>
                    <ol>
                        <li class="ja-only">Setup Toolで「マテリアル値を焼き込み & アバターに統合」を実行しましたか？</li>
                        <li class="ja-only">表示設定（Enable VR/Desktop/SS/Other）が適切に有効になっていますか？</li>
                        <li class="ja-only">全体の透明度やメインカラーの透明度が0になっていませんか？</li>
                        <li class="ja-only"><strong>影響範囲外にカメラが行っていませんか？</strong></li>
                        <li class="en-only">Did you execute "Bake Material Values & Merge to Avatar" in Setup Tool?</li>
                        <li class="en-only">Are display settings (Enable VR/Desktop/SS/Other) properly enabled?</li>
                        <li class="en-only">Is overall opacity or main color alpha set to 0?</li>
                        <li class="en-only"><strong>Is the camera outside the effect range?</strong></li>
                    </ol>
                </div>

                <h4 class="ja-only">影響範囲について</h4>
                <h4 class="en-only">About Effect Range</h4>
                <p class="ja-only">VividAvatarFXはCubeが視界に入っていないとエフェクトが適用されません。</p>
                <p class="en-only">VividAvatarFX effects won't apply unless the Cube is in view.</p>

                <div class="step">
                    <strong class="ja-only">影響範囲の調整方法</strong>
                    <strong class="en-only">How to Adjust Effect Range</strong>
                    <ol>
                        <li class="ja-only">VRChatメニュー： <code>メインメニュー → 視点設定 → 影響範囲</code></li>
                        <li class="ja-only">スケール値を調整（デフォルト：3、最大：20）</li>
                        <li class="ja-only">「影響範囲可視化」をONにすると半透明の水色キューブで確認可能</li>
                        <li class="ja-only"><strong>確認後は必ず可視化をOFFに戻してください</strong></li>
                        <li class="en-only">VRChat menu: <code>Main Menu → View Settings → Effect Range</code></li>
                        <li class="en-only">Adjust scale value (Default: 3, Max: 20)</li>
                        <li class="en-only">Turn ON "Visualize Range" to see translucent cyan cube</li>
                        <li class="en-only"><strong>Always turn OFF visualization after checking</strong></li>
                    </ol>
                </div>

                <div class="warning">
                    <strong class="ja-only">⚠️ 影響範囲を大きくしすぎないでください。</strong>
                    <strong class="en-only">⚠️ Don't Make Range Too Large</strong>
                    <p class="ja-only">スケールを大きくしすぎると、フォールバック時に巨大な不透過キューブが出現し、視界を完全に遮ってしまいます。</p>
                    <p class="en-only">If scale is too large, a huge opaque cube will appear in fallback, completely blocking view.</p>
                    <p class="ja-only">デフォルトのスケール3で十分カバーできるかと思いますが、もう少し影響範囲を広げたい場合は段階的に調整してください。</p>
                    <p class="en-only">Default scale of 3 covers sufficient range. Adjust gradually as needed.</p>
                </div>

                <h3 class="ja-only">プリセットが適用されない</h3>
                <h3 class="en-only">Preset Not Applying</h3>
                <ul>
                    <li class="ja-only">プリセットJSONファイルが<code>Assets/x2much4u/VividAvatarFX/Preset/</code>にありますか？</li>
                    <li class="ja-only">ファイル名が<code>VAFX_</code>で始まっていますか？</li>
                    <li class="ja-only">適用後にSetup Toolで再度ベイクを実行しましたか？</li>
                    <li class="en-only">Is the preset JSON file in <code>Assets/x2much4u/VividAvatarFX/Preset/</code>?</li>
                    <li class="en-only">Does the filename start with <code>VAFX_</code>?</li>
                    <li class="en-only">Did you re-bake with Setup Tool after applying?</li>
                </ul>

                <h3 class="ja-only">視線制御が動作しない</h3>
                <h3 class="en-only">Eye Control Not Working</h3>
                <ul>
                    <li class="ja-only">Setup Toolで「ベイク時に視線制御も設定する」にチェックが入っていましたか？</li>
                    <li class="ja-only">目のボーンが正しく設定されていますか？</li>
                    <li class="ja-only">VRChat内で視線制御のトグルをONにしていますか？</li>
                    <li class="ja-only">他の視線制御ギミックと干渉していませんか？</li>
                    <li class="en-only">Was "Setup Eye Control on Bake" checked in Setup Tool?</li>
                    <li class="en-only">Are eye bones correctly set?</li>
                    <li class="en-only">Is eye control toggle ON in VRChat?</li>
                    <li class="en-only">Is it interfering with other eye control systems?</li>
                </ul>

                <h3 class="ja-only">マテリアルを調整したのにVRCで反映されない</h3>
                <h3 class="en-only">Material Changes Not Reflected in VRC</h3>
                <p><strong class="ja-only">原因：</strong><strong class="en-only">Cause:</strong> <span class="ja-only">ベイクを実行していない</span><span class="en-only">Baking not executed</span></p>
                <p><strong class="ja-only">解決方法：</strong><strong class="en-only">Solution:</strong> <span class="ja-only">Setup Toolで再度ベイクを実行してください。マテリアルの値を変更した場合は必ずベイクが必要です。</span><span class="en-only">Re-bake with Setup Tool. Always bake after changing material values.</span></p>

                <h2 id="faq">
                    <span class="ja-only">よくある質問</span>
                    <span class="en-only">FAQ</span>
                </h2>

                <h3><span class="ja-only">Q: Quest対応していますか？</span><span class="en-only">Q: Is Quest supported?</span></h3>
                <p><strong>A:</strong> <span class="ja-only">VividAvatarFXはPC専用です。Quest版では動作しません。</span><span class="en-only">VividAvatarFX is PC only. It does not work on Quest.</span></p>

                <h3><span class="ja-only">Q: 操作できる項目が多いので、パラメーター数が心配</span><span class="en-only">Q: I'm worried about too many parameters</span></h3>
                <p><strong>A:</strong> <span class="ja-only">すべてのパラメーターは<code>Synced: false</code>のため、Expression Parametersの容量を消費しません。<strong>使用容量は0ビット</strong>です。</span><span class="en-only">All parameters are <code>Synced: false</code>, so they don't consume Expression Parameters capacity. <strong>Effectively uses 0 bits</strong>.</span></p>

                <h3><span class="ja-only">Q: 他のカメラギミックと併用できますか？</span><span class="en-only">Q: Can I use it with other Camera Gimmick?</span></h3>
                <p><strong>A:</strong> <span class="ja-only">このギミックでは現在描画されている画面に対してエフェクトをかけるので基本的には可能ですが、<strong>画面を歪ませるギミックに関しては相性が悪い</strong>です。切れ目が発生したり、エフェクトがかかりきらない箇所が出る場合があります。<br>また、描画順を変えたい場合はレンダーキュー値を調整してください。</span><span class="en-only">Since this gimmick applies effects to the currently rendered screen, it's generally possible to use with other camera gimmicks. However, it may not work well with gimmicks that distort the screen. You might experience visual breaks or areas where effects are not fully applied.<br>If you need to change the rendering order, please adjust the render queue values.</span>
                <div class="info">
                    <strong class="ja-only">💡 レンダーキューについて</strong>
                    <strong class="en-only">💡 About Render Queue</strong>
                    <p class="ja-only">Unityでは、数値が小さいほど先に（手前に）、大きいほど後に（奥に）描画されます。</p>
                    <p class="en-only">In Unity, smaller values render first (front), larger values render later (back).</p>
                </div>
                
                <h3><span class="ja-only">Q: アップデート時の手順は？</span><span class="en-only">Q: What's the update procedure?</span></h3>
                <p><strong>A:</strong> <span class="ja-only">新しいバージョンをインポート後、Setup Toolで再度ベイクを実行してください。プリセットやカスタム設定は保持されます。</span><span class="en-only">After importing new version, re-bake with Setup Tool. Presets and custom settings will be preserved.</span></p>

                <h3><span class="ja-only">Q: 設定を元に戻したい</span><span class="en-only">Q: I want to reset settings</span></h3>
                <p><strong>A:</strong> <span class="ja-only">マテリアルInspector右上の<strong>⁝</strong>から<strong>Reset</strong>を押すと、シェーダーの初期値に戻ります。</span><span class="en-only">Click <strong>⁝</strong> at top-right of Material Inspector and select <strong>Reset</strong> to return to shader default values.</span></p>

                <h3><span class="ja-only">Q: VR視点でレンズ歪みが表示されないのはなぜ？</span><span class="en-only">Q: Why doesn't lens distortion show in VR view?</span></h3>
                <p><strong>A:</strong> <span class="ja-only">VR酔いを防ぐため、VR視点では意図的に非表示になっています。カメラやデスクトップ視点では引き続き表示されます。</span><span class="en-only">It's intentionally hidden in VR view to prevent motion sickness. It continues to display in camera and desktop views.</span></p>

                <h2 id="license">
                    <span class="ja-only">ライセンス</span>
                    <span class="en-only">License</span>
                </h2>

                <h3 class="ja-only">VividAvatarFX本体</h3>
                <h3 class="en-only">VividAvatarFX Main Product</h3>
                <p class="ja-only">VividAvatarFXは<strong>VN3 License</strong>のもとで配布されています。</p>
                <p class="en-only">VividAvatarFX is distributed under <strong>VN3 License</strong>.</p>

                <div class="info">
                    <strong class="ja-only">主要な利用条件</strong>
                    <strong class="en-only">Main Usage Terms</strong>
                    <ul>
                        <li>✅ <span class="ja-only">営利目的での利用：可能</span><span class="en-only">Commercial use: Allowed</span></li>
                        <li>✅ <span class="ja-only">商用利用：可能</span><span class="en-only">Business use: Allowed</span></li>
                        <li>❌ <span class="ja-only">再配布：禁止</span><span class="en-only">Redistribution: Prohibited</span></li>
                        <li>✅ <span class="ja-only">JSONファイル（プリセット設定）の配布：特記事項により許可</span><span class="en-only">JSON file (preset settings) distribution: Allowed</span></li>
                    </ul>
                    <p class="ja-only"><strong>詳細は製品に同梱のVN3ライセンス全文を必ずご確認ください。</strong></p>
                    <p class="en-only"><strong>Please check the full VN3 license text included with the product for details.</strong></p>
                    <p><a href="https://drive.google.com/drive/folders/1iJT_2lE_kOlim-YSXlYpvrK9QJp19qWB" target="_blank" style="color: #667eea; font-weight: bold;"><span class="ja-only">→ VN3ライセンス全文</span><span class="en-only">→ Full VN3 License</span></a></p>
                </div>

                <h2 id="changelog">
                    <span class="ja-only">更新履歴</span>
                    <span class="en-only">Changelog</span>
                </h2>

                <div style="background: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 15px 0; border-radius: 5px;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <div style="display: inline-flex; align-items: center; justify-content: center; background: #667eea; color: white; min-width: 80px; height: 32px; border-radius: 16px; font-weight: bold; margin-right: 12px; padding: 0 16px; font-size: 0.9em;"> v1.0.2 </div>
                        <strong style="font-size: 1.1em; color: #495057;">2025/10/26</strong>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <span style="display: inline-block; background: #17a2b8; color: white; padding: 2px 10px; border-radius: 4px; font-size: 0.85em; font-weight: bold; margin-right: 8px;">
                            <span class="ja-only">最適化</span>
                            <span class="en-only">Optimization</span>
                        </span>
                    </div>
                    
                    <ul style="margin-left: 20px; color: #495057;">
                        <li class="ja-only">Animation Controllerの最適化を実施</li>
                        <li class="en-only">Optimized Animation Controller</li>
                    </ul>
                </div>
                
                <div style="background: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 15px 0; border-radius: 5px;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <div style="display: inline-flex; align-items: center; justify-content: center; background: #667eea; color: white; min-width: 80px; height: 32px; border-radius: 16px; font-weight: bold; margin-right: 12px; padding: 0 16px; font-size: 0.9em;"> v1.0.1 </div>
                        <strong style="font-size: 1.1em; color: #495057;">2025/10/17</strong>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <span style="display: inline-block; background: #28a745; color: white; padding: 2px 10px; border-radius: 4px; font-size: 0.85em; font-weight: bold; margin-right: 8px;">
                            <span class="ja-only">バグ修正</span>
                            <span class="en-only">Bug Fixes</span>
                        </span>
                    </div>
                    
                    <ul style="margin-left: 20px; color: #495057;">
                        <li class="ja-only">一部ユーザーでConstraintの参照が外れてしまう問題を修正</li>
                        <li class="en-only">Fixed an issue where Constraint references were lost for some users</li>
                        <li class="ja-only">マテリアルインスペクターのバージョン表記を修正（Ver.0.18.3 → Ver.1.0.1）</li>
                        <li class="en-only">Fixed version display in Material Inspector (Ver.0.18.3 → Ver.1.0.1)</li>
                        <li class="ja-only">ポスタライズ機能をExpressionMenuに追加</li>
                        <li class="en-only">Added Posterize function to Expression Menu</li>
                    </ul>
                </div>
                
                <div style="background: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 15px 0; border-radius: 5px;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <div style="display: inline-flex; align-items: center; justify-content: center; background: #667eea; color: white; min-width: 80px; height: 32px; border-radius: 16px; font-weight: bold; margin-right: 12px; padding: 0 16px; font-size: 0.9em;"> v1.0.0 </div>
                        <strong style="font-size: 1.1em; color: #495057;">2025/10/17</strong>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <span style="display: inline-block; background: #764ba2; color: white; padding: 2px 10px; border-radius: 4px; font-size: 0.85em; font-weight: bold; margin-right: 8px;">
                            <span class="ja-only">初回リリース</span>
                            <span class="en-only">Initial Release</span>
                        </span>
                    </div>
                </div>
                
                <footer>
                    <p>&copy; 2025 ゴンリー (x2much4u) - VividAvatarFX</p>
                    <p class="ja-only">VRChat想定アバターギミック #VAFX</p>
                    <p class="en-only">VRChat Avatar Gimmick #VAFX</p>
                    <p><a href="https://x2much4u.booth.pm/" target="_blank">https://x2much4u.booth.pm/</a></p>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.8;">
                        VN3 License | Version 1.0.2
                    </p>
                </footer>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('h2[id], h3[id]');
            const navLinks = document.querySelectorAll('.sidebar-nav > li > a');
            const allNavLinks = document.querySelectorAll('.sidebar-nav a');
            const subNavs = document.querySelectorAll('.sidebar-subnav');
            const mainContent = document.querySelector('.main-content');
            const hamburger = document.querySelector('.hamburger');
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.querySelector('.overlay');
            const htmlElement = document.documentElement;
            const langBtns = document.querySelectorAll('.lang-btn');
            
            const savedLang = localStorage.getItem('vafx-lang') || 'ja';
            htmlElement.setAttribute('lang', savedLang);
            updateLangButtons(savedLang);
            
            langBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const lang = this.dataset.lang;
                    htmlElement.setAttribute('lang', lang);
                    localStorage.setItem('vafx-lang', lang);
                    updateLangButtons(lang);
                });
            });
            
            function updateLangButtons(activeLang) {
                langBtns.forEach(btn => {
                    if (btn.dataset.lang === activeLang) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            }
            
            if (hamburger) {
                hamburger.addEventListener('click', function() {
                    sidebar.classList.toggle('active');
                    overlay.classList.toggle('active');
                });
            }
            
            if (overlay) {
                overlay.addEventListener('click', function() {
                    sidebar.classList.remove('active');
                    overlay.classList.remove('active');
                });
            }
            
            allNavLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    if (window.innerWidth <= 900) {
                        sidebar.classList.remove('active');
                        overlay.classList.remove('active');
                    }
                });
            });
            
            function setActiveLink() {
                const scrollPosition = mainContent.scrollTop;
                
                let currentSection = null;
                let currentMainSection = null;
                
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const mainRect = mainContent.getBoundingClientRect();
                    const relativeTop = rect.top - mainRect.top + scrollPosition;
                    
                    if (scrollPosition >= relativeTop - 100) {
                        currentSection = section.getAttribute('id');
                        
                        if (section.tagName === 'H2') {
                            currentMainSection = currentSection;
                        } else if (section.tagName === 'H3' && !currentMainSection) {
                            const allSectionsArray = Array.from(sections);
                            const currentIndex = allSectionsArray.indexOf(section);
                            for (let j = currentIndex - 1; j >= 0; j--) {
                                if (allSectionsArray[j].tagName === 'H2') {
                                    currentMainSection = allSectionsArray[j].getAttribute('id');
                                    break;
                                }
                            }
                        }
                    }
                });
                
                subNavs.forEach(subnav => {
                    subnav.classList.remove('active');
                });
                
                allNavLinks.forEach(link => {
                    link.classList.remove('active');
                });
                
                if (currentMainSection) {
                    navLinks.forEach(link => {
                        const href = link.getAttribute('href').substring(1);
                        
                        if (href === currentMainSection) {
                            link.classList.add('active');
                            
                            const parentLi = link.parentElement;
                            const subnav = parentLi.querySelector('.sidebar-subnav');
                            if (subnav) {
                                subnav.classList.add('active');
                                
                                if (currentSection && currentSection !== currentMainSection) {
                                    const subLinks = subnav.querySelectorAll('a');
                                    subLinks.forEach(subLink => {
                                        const subHref = subLink.getAttribute('href').substring(1);
                                        if (subHref === currentSection) {
                                            subLink.classList.add('active');
                                        }
                                    });
                                }
                            }
                        }
                    });
                }
            }
            
            if (mainContent) {
                mainContent.addEventListener('scroll', setActiveLink);
            }
            
            setActiveLink();
        });
    </script>
</body>
</html><!DOCTYPE html>
